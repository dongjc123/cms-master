webpackJsonp([1],{"3u/a":function(t,e){},"9U32":function(t,e){},BFyF:function(t,e){},Didw:function(t,e,a){t.exports=a.p+"static/img/login.0d4a7cd.jpg"},KqMV:function(t,e,a){t.exports=a.p+"static/img/hell.da7ad9e.jpg"},Mhlf:function(t,e,a){t.exports=a.p+"static/img/style-two.bbf2219.jpg"},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("mtWM"),l=a.n(i),r=a("mw3O"),o=a.n(r);l.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",l.a.defaults.baseURL="http://120.78.164.247:8099",l.a.defaults.withCredentials=!0,l.a.interceptors.request.use(t=>("post"===t.method&&(t.data=o.a.stringify(t.data,{arrayFormat:"repeat"})),t),t=>Promise.reject(t)),l.a.interceptors.response.use(function(t){return 500==t.data.status&&"尚未登录，请登录!"==t.data.message?(window.vm.currentComponent="Login",!1):t});var n=l.a,c={data:()=>({currentRoute:"/",user:{},note:{backgroundImage:"url("+a("kDKx")+") ",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),watch:{$route:function(t,e){this.currentRoute=t.path}},created(){this.currentRoute=this.$route.path;let t=JSON.parse(localStorage.getItem("user"));t&&t.id?this.user=t:window.vm.currentComponent="Login"},methods:{handleCommand(t){"logout"==t&&n.get("http://47.107.41.99:8888/logout").then(()=>{window.vm.currentComponent="Login",localStorage.removeItem("user")})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("div",{staticClass:"header note",style:t.note},[t._m(0),t._v(" "),a("div",{staticClass:"info"},[a("img",{staticClass:"photo",attrs:{src:t.user.userface,alt:""}}),t._v(" "),a("div",{staticClass:"dropdown"},[a("el-dropdown",{on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n          "+t._s(t.user.nickname)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出")])],1)],1)],1)])]),t._v(" "),a("div",{staticClass:"center"},[a("div",{staticClass:"left-nav"},[a("ul",[a("li",{class:{current:"/"==t.currentRoute}},[a("i",{staticClass:"fa fa-newspaper-o"}),t._v(" "),a("router-link",{attrs:{to:"/"}},[t._v("首页")]),t._v(" "),a("i",{staticClass:"fa fa-angle-right"})],1),t._v(" "),a("li",{class:{current:"/category"==t.currentRoute}},[a("i",{staticClass:"fa fa-bars"}),t._v(" "),a("router-link",{attrs:{to:"/category"}},[t._v("栏目管理")]),t._v(" "),a("i",{staticClass:"fa fa-angle-right"})],1),t._v(" "),a("li",{class:{current:"/article"==t.currentRoute}},[a("i",{staticClass:"fa fa-briefcase"}),t._v(" "),a("router-link",{attrs:{to:"/article"}},[t._v("文章管理")]),t._v(" "),a("i",{staticClass:"fa fa-angle-right"})],1),t._v(" "),a("li",{class:{current:"/user"==t.currentRoute}},[a("i",{staticClass:"fa fa-user"}),t._v(" "),a("router-link",{attrs:{to:"/user"}},[t._v("用户管理")]),t._v(" "),a("i",{staticClass:"fa fa-angle-right"})],1),t._v(" "),a("li",{class:{current:t.currentRoute.indexOf("/setting")>=0}},[a("i",{staticClass:"fa fa-cog"}),t._v(" "),a("router-link",{attrs:{to:"/setting"}},[t._v("系统设置")]),t._v(" "),a("i",{staticClass:"fa fa-angle-right"})],1)])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"wrapper"},[a("router-view")],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("i",{staticClass:"fa fa-newspaper-o"}),this._v("   热点新闻资讯\n    ")])}]};var d=a("VU/8")(c,u,!1,function(t){a("lqwH")},null,null).exports,m={data:()=>({form:{name:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",tirgger:"blur"}],password:[{required:!0,message:"请输入密码",tirgger:"blur"}]},note1:{backgroundImage:"url("+a("Didw")+") ",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},note2:{backgroundImage:"url("+a("iGsB")+") ",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),methods:{login(){this.$refs.userForm.validate(t=>{t&&n.post("http://47.107.41.99:8888/login",this.form).then(({data:t})=>{200==t.status&&"登录成功"==t.message&&(window.vm.currentComponent="App",localStorage.setItem("user",JSON.stringify(t.data)))}).catch(t=>{console.log("error",t)})})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login note1",style:t.note1},[t._m(0),t._v(" "),a("div",{staticClass:"login-dialog note2",style:t.note2},[t._m(1),t._v(" "),a("div",{staticClass:"form"},[a("el-form",{ref:"userForm",attrs:{rules:t.rules,model:t.form,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{prop:"username",label:"用户名","label-width":"80px"}},[a("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码","label-width":"80px"}},[a("el-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.login}},[t._v("登录")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg"},[e("h3",[this._v("热点新闻资讯")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("h2",[this._v("登录页")])])}]};var f=a("VU/8")(m,g,!1,function(t){a("l5TY")},"data-v-20974d1c",null).exports,p=a("/ocq"),h={data:()=>({categories:[],loading:!1,ids:[],categoryDialog:{title:"",visible:!1,form:{name:"",comment:""}},rules:{name:[{required:!0,message:"请输入栏目名称",trigger:"blur"},{min:2,max:4,message:"长度在 2 到 4 个字符",trigger:"blur"}],comment:[{required:!0,message:"请填写描述信息",trigger:"blur"}]}}),created(t){this.findAllCategories()},methods:{submitForm(t){this.$refs[t].validate(t=>{if(!t)return console.log("error submit!!"),!1;this.saveOrUpdateCategory()})},toUpdateCategory(t){this.categoryDialog.title="修改栏目",this.categoryDialog.visible=!0;let e=_.cloneDeep(t);this.categoryDialog.form=e,e.parentId=e.parent.id,delete e.parent},batchDeletecategory(){let t=this.ids.map(t=>t.id);this.$confirm("此操作将批量删除这些栏目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let e={ids:t};n.post("/manager/category/batchDeleteCategory",e).then(({data:t})=>{this.$notify({title:"删除成功",message:t.message,type:"success"}),this.findAllCategories()}).catch(()=>{this.$notify.error({title:"删除错误",message:"删除异常"})})}).catch(()=>{})},handleSelectionChange(t){this.ids=t},deleteCategory(t){this.$confirm("此操作将永久删除该栏目以及该栏目的子栏目，以及该栏目下的文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let e="/manager/category/deleteCategoryById?id="+t;n.get(e).then(({data:t})=>{this.$notify({title:"删除成功",message:t.message,type:"success"}),this.findAllCategories()}).catch(()=>{this.$notify.error({title:"错误",message:"删除异常"})})}).catch(()=>{})},saveOrUpdateCategory(){n.post("/manager/category/saveOrUpdateCategory",this.categoryDialog.form).then(({data:t})=>{200==t.status?(this.closeCategoryDialog(),this.$notify({title:"成功",message:t.message,type:"success"}),this.findAllCategories()):this.$notify.error({title:"错误",message:t.message})}).catch(t=>{this.$notify.error({title:"错误",message:"网络异常"})})},closeCategoryDialog(){this.categoryDialog.visible=!1},toAddCategory(){this.categoryDialog.form={},this.categoryDialog.title="添加栏目",this.categoryDialog.visible=!0},findAllCategories(){this.loading=!0;n.get("/manager/category/findAllCategory").then(({data:t})=>{this.categories=t.data}).catch(t=>{console.log("error",t)}).finally(()=>{this.loading=!1})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.toAddCategory}},[t._v("添加")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:t.batchDeletecategory}},[t._v("批量删除")])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:!0,size:"small",data:t.categories},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"栏目名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"parent.name",label:"父栏目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"comment",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("i",{staticClass:"fa fa-trash",on:{click:function(e){t.deleteCategory(s.id)}}}),t._v(" "),a("i",{staticClass:"fa fa-pencil",on:{click:function(e){t.toUpdateCategory(s)}}})]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.categoryDialog.title,visible:t.categoryDialog.visible},on:{"update:visible":function(e){t.$set(t.categoryDialog,"visible",e)}}},[a("el-form",{ref:"categoryDialog.form",attrs:{model:t.categoryDialog.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"栏目名称","label-width":"120px",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.categoryDialog.form.name,callback:function(e){t.$set(t.categoryDialog.form,"name",e)},expression:"categoryDialog.form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"父栏目","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"一级栏目"},model:{value:t.categoryDialog.form.parentId,callback:function(e){t.$set(t.categoryDialog.form,"parentId",e)},expression:"categoryDialog.form.parentId"}},t._l(t.categories,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"描述信息","label-width":"120px",prop:"comment"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.categoryDialog.form.comment,callback:function(e){t.$set(t.categoryDialog.form,"comment",e)},expression:"categoryDialog.form.comment"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.closeCategoryDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.submitForm("categoryDialog.form")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var y=a("VU/8")(h,v,!1,function(t){a("vPBM")},"data-v-51e3f8fd",null).exports,b={data:()=>({loading:!1,categories:[],articles:[],total:0,multipleSelection:[],params:{page:0,pageSize:5},articleDialog:{title:"",visible:!1,form:{liststyle:"style-one",fileIds:[]},fileList:[]},rules:{title:[{required:!0,message:"请输入文章名称",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],categoryId:[{required:!0,message:"请选择栏目名称",trigger:"change"}],liststyle:[{required:!0,message:"请选择列表样式",trigger:"change"}],content:[{required:!0,message:"请填写文章正文",trigger:"blur"}]}}),watch:{params:{handler:function(){this.findAllArticles()},deep:!0}},created(){this.findAllCategories(),this.findAllArticles()},methods:{submitForm(t){this.$refs[t].validate(t=>{if(!t)return console.log("error submit!!"),!1;this.saveOrUpdateArticle()})},handleUploadRemove(t){n.get("/manager/file/delete",{params:{id:t.name}}).then(()=>{this.$notify({title:"成功",message:"操作成功"}),_.remove(this.articleDialog.form.fileIds,e=>e==t.name),this.articleDialog.form.fileIds.push(1),this.articleDialog.form.fileIds.pop()}).catch(()=>{this.$notify.error({title:"错误",message:"网络异常"})})},toUpdateArticle(t){this.articleDialog.title="修改资讯",this.articleDialog.visible=!0;let e=_.cloneDeep(t);this.articleDialog.fileList=e.articleFileVMs.map(t=>({name:t.cmsFile.id,url:"http://39.108.81.60:8888/group1/"+t.cmsFile.id})),e.categoryId=e.category.id,delete e.category,e.fileIds=e.articleFileVMs.map(t=>t.cmsFile.id),delete e.articleFileVMs;for(let t in e){e[t]||delete e[t]}this.articleDialog.form=e},batchDeleteArticles(){let t=this.multipleSelection.map(t=>t.id);this.$confirm("此操作将批量删除这些文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let e={ids:t};n.post("/manager/article/batchDeleteArticle",e).then(({data:t})=>{this.$notify({title:"删除成功",message:t.message,type:"success"}),this.findAllArticles()}).catch(()=>{this.$notify.error({title:"删除错误",message:"删除异常"})})}).catch(()=>{})},handleSelectionChange(t){this.multipleSelection=t},closeArticleDialog(){this.articleDialog.visible=!1},saveOrUpdateArticle(){this.articleDialog.form.source=this.$refs.md.d_render;n.post("/manager/article/saveOrUpdateArticle",this.articleDialog.form).then(({data:t})=>{200==t.status?(this.closeArticleDialog(),this.$notify({title:"成功",message:t.message,type:"success"}),this.findAllArticles()):this.$notify.error({title:"错误",message:t.message})}).catch(t=>{this.$notify.error({title:"错误",message:"网络异常"})})},handleUploadSuccess(t,e,a){this.articleDialog.form.fileIds.push(t.data.id)},toAddArticle(){this.articleDialog.form={liststyle:"style-one",fileIds:[],fileList:""},this.articleDialog.fileList=[],this.articleDialog.title="发布资讯",this.articleDialog.visible=!0},findAllCategories(){n.get("/manager/category/findAllCategory").then(({data:t})=>{this.categories=t.data}).catch(t=>{this.$notify.error({title:"错误",massage:"网络异常"})})},handleCurrentChange(t){this.params.page=t-1},findAllArticles(){this.loading=!0;n.get("/manager/article/findArticle",{params:this.params}).then(({data:t})=>{console.log(t),this.total=t.data.total,this.articles=t.data.list}).catch(t=>{this.$notify.error({title:"错误",massage:"网络异常"})}).finally(()=>{this.loading=!1})},deleteArticle(t){this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let e="/manager/article/deleteArticleById?id="+t;n.get(e).then(({data:t})=>{this.$notify({title:"成功",message:t.message,type:"success"}),this.findAllArticles()}).catch(()=>{this.$notify.error({title:"错误",message:"删除异常"})})}).catch(()=>{})}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article"},[s("div",{staticClass:"btns"},[s("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",size:"small",placeholder:"所有栏目"},model:{value:t.params.categoryId,callback:function(e){t.$set(t.params,"categoryId",e)},expression:"params.categoryId"}},t._l(t.categories,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),s("el-input",{staticStyle:{width:"140px"},attrs:{size:"small",placeholder:"请输入关键字",clearable:""},model:{value:t.params.keywords,callback:function(e){t.$set(t.params,"keywords",e)},expression:"params.keywords"}}),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.toAddArticle}},[t._v("添加")]),t._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:t.batchDeleteArticles}},[t._v("批量删除")])],1),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"article-tbl"},[s("el-table",{staticStyle:{width:"100%"},attrs:{border:!0,size:"small",data:t.articles},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),s("el-table-column",{attrs:{prop:"title",label:"文章标题",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"category.name",label:"所属栏目",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"publishtime",label:"发布时间",width:"200"}}),t._v(" "),s("el-table-column",{attrs:{prop:"readtimes",label:"阅读次数"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("i",{staticClass:"fa fa-trash",on:{click:function(e){t.deleteArticle(a.id)}}}),t._v(" "),s("i",{staticClass:"fa fa-pencil",on:{click:function(e){t.toUpdateArticle(a)}}})]}}])})],1)],1),t._v(" "),s("div",{staticClass:"page"},[s("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.params.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),s("el-dialog",{attrs:{fullscreen:"",title:t.articleDialog.title,visible:t.articleDialog.visible},on:{"update:visible":function(e){t.$set(t.articleDialog,"visible",e)}}},[s("el-form",{ref:"articleDialog.form",attrs:{model:t.articleDialog.form,rules:t.rules}},[s("el-form-item",{attrs:{label:"资讯标题","label-width":"120px",prop:"title"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.articleDialog.form.title,callback:function(e){t.$set(t.articleDialog.form,"title",e)},expression:"articleDialog.form.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"所属栏目","label-width":"120px",prop:"categoryId"}},[s("el-select",{attrs:{placeholder:"请选择栏目名称"},model:{value:t.articleDialog.form.categoryId,callback:function(e){t.$set(t.articleDialog.form,"categoryId",e)},expression:"articleDialog.form.categoryId"}},t._l(t.categories,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),s("el-form-item",{attrs:{label:"列表样式","label-width":"120px",prop:"liststyle"}},[s("div",{staticClass:"list-style"},[s("div",{staticClass:"style-one",class:{current:"style-one"==t.articleDialog.form.liststyle},on:{click:function(e){t.articleDialog.form.liststyle="style-one"}}},[s("img",{attrs:{src:a("j50B"),alt:"图片加载不成功"}})]),t._v(" "),s("div",{staticClass:"style-two",class:{current:"style-two"==t.articleDialog.form.liststyle},on:{click:function(e){t.articleDialog.form.liststyle="style-two"}}},[s("img",{attrs:{src:a("Mhlf"),alt:"图片加载不成功"}})])])]),t._v(" "),s("el-form-item",{attrs:{label:"缩略图","label-width":"120px"}},[s("el-upload",{attrs:{action:"http://39.107.91.212:8099/manager/file/upload","file-list":t.articleDialog.fileList,"on-remove":t.handleUploadRemove,"on-success":t.handleUploadSuccess,"list-type":"picture"}},[s("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"资讯正文","label-width":"120px",prop:"content"}},[s("mavon-editor",{ref:"md",model:{value:t.articleDialog.form.content,callback:function(e){t.$set(t.articleDialog.form,"content",e)},expression:"articleDialog.form.content"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:t.closeArticleDialog}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.submitForm("articleDialog.form")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var D=a("VU/8")(b,C,!1,function(t){a("mfZm")},"data-v-150cafc8",null).exports,w={data:()=>({users:[],userDialog:{title:"",visible:!1,form:{},fileList:[]},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],email:[{required:!0,message:"请输入email",trigger:"blur"}],nickname:[{required:!0,message:"请输入真实姓名",trigger:"blur"}]}}),created(){this.findAllUsers()},methods:{handleUploadRemove(){},handlerUploadSuccess(t){this.userDialog.form.userface=t.data.id},deleteUser(t){this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{n.get("/manager/user/deleteUserById",{params:{id:t}}).then(({data:t})=>{this.$notify({title:"成功",message:t.message,type:"success"}),this.findAllUsers()}).catch(()=>{this.$notify.error({title:"错误",message:"删除异常"})})}).catch(()=>{})},saveOrUpdateUser(){this.$refs.userForm.validate(t=>{for(let t in this.userDialog.form){this.userDialog.form[t]||delete this.userDialog.form[t]}if(t){let t="/manager/user/saveOrUpdateUser";n.post(t,this.userDialog.form).then(({data:t})=>{(t.status=200)?(this.closeUserDialog(),this.$notify({title:"成功",message:t.message,type:"success"}),this.findAllUsers()):this.$notify.error({title:"错误",message:t.message})}).catch(t=>{this.$notify.error({title:"错误",message:"网络异常"})})}})},closeUserDialog(){this.$refs.userForm.resetFields(),this.userDialog.form={},this.userDialog.visible=!1},toUpdateUser(t){this.userDialog.form=t,t.userface&&(t.userface.indexOf("http")>=0?this.userDialog.fileList=[{name:t.userface,url:t.userface}]:this.userDialog.fileList=[{name:t.userface,url:"http://39.108.81.60:8888/group1/"+t.userface}]),this.userDialog.title="修改用户",this.userDialog.visible=!0},toAddUser(){this.userDialog.title="添加用户",this.userDialog.fileList=[],this.userDialog.visible=!0},findAllUsers(){n.get("/manager/user/findAllUser").then(({data:t})=>{this.users=t.data}).catch(t=>{this.$notify.error({title:"错误",message:result.message})})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user"},[a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini"},on:{click:t.toAddUser}},[t._v("添加")])],1),t._v(" "),a("div",{staticClass:"user_tbl"},[a("ul",{staticClass:"user_list"},t._l(t.users,function(e){return a("li",[a("div",{staticClass:"icons"},[a("i",{staticClass:"fa fa-edit",on:{click:function(a){t.toUpdateUser(e)}}}),t._v(" "),a("i",{staticClass:"fa fa-close",on:{click:function(a){t.deleteUser(e.id)}}})]),t._v(" "),a("div",{staticClass:"photo"},[e.userface&&e.userface.indexOf("http")>=0?a("img",{attrs:{src:e.userface,alt:""}}):a("img",{attrs:{src:"http://39.108.81.60:8888/group1/"+e.userface,alt:""}})]),t._v(" "),a("div",{staticClass:"info"},[a("div",[t._v("用户名")]),t._v(" "),a("div",[t._v(t._s(e.username))])]),t._v(" "),a("div",{staticClass:"info"},[a("div",[t._v("真实姓名")]),t._v(" "),a("div",[t._v(t._s(e.nickname))])]),t._v(" "),a("div",{staticClass:"info"},[a("div",[t._v("email")]),t._v(" "),a("div",[t._v(t._s(e.email))])]),t._v(" "),t._m(0,!0)])}))]),t._v(" "),a("el-dialog",{attrs:{title:t.userDialog.title,visible:t.userDialog.visible},on:{"update:visible":function(e){t.$set(t.userDialog,"visible",e)}}},[t._v("\n\t\t"+t._s(t.userDialog.form)+"\n\t  "),a("el-form",{ref:"userForm",attrs:{"status-icon":"",rules:t.rules,model:t.userDialog.form,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"用户名","label-width":"100px",prop:"username"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.userDialog.form.username,callback:function(e){t.$set(t.userDialog.form,"username",e)},expression:"userDialog.form.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":"100px",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:t.userDialog.form.password,callback:function(e){t.$set(t.userDialog.form,"password",e)},expression:"userDialog.form.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"真实姓名","label-width":"100px",prop:"nickname"}},[a("el-input",{model:{value:t.userDialog.form.nickname,callback:function(e){t.$set(t.userDialog.form,"nickname",e)},expression:"userDialog.form.nickname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"email","label-width":"100px",prop:"email"}},[a("el-input",{model:{value:t.userDialog.form.email,callback:function(e){t.$set(t.userDialog.form,"email",e)},expression:"userDialog.form.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"头像","label-width":"100px"}},[a("el-upload",{attrs:{action:"http://47.107.71.18:8099/manager/file/upload",limit:1,"file-list":t.userDialog.fileList,"on-remove":t.handleUploadRemove,"on-success":t.handlerUploadSuccess,"list-type":"picture"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[t._v("点击上传")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:t.closeUserDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.saveOrUpdateUser}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info"},[e("div",[this._v("状态")]),this._v(" "),e("div",{staticClass:"switch switch-mini",attrs:{"data-on":"primary","data-off":"info"}},[e("input",{attrs:{type:"checkbox"}})])])}]};var x=a("VU/8")(w,k,!1,function(t){a("3u/a")},null,null).exports,$={data:()=>({})},U={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("img",{attrs:{src:a("KqMV")}}),this._v(" "),e("h1",[this._v("欢迎进入热点新闻后台管理系统")]),this._v(" "),e("div",{staticClass:"hi"},[e("img",{attrs:{src:a("UnsC")}})])])}]};var A=a("VU/8")($,U,!1,function(t){a("9U32")},null,null).exports,R={data:()=>({currentRoute:"/setting/info"}),watch:{$route:function(t,e){this.currentRoute=t.path}},mounted(){this.$router.push(this.currentRoute)}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting"},[a("ul",{staticClass:"setting-nav"},[a("li",{class:{current:"/setting/info"==t.currentRoute}},[a("router-link",{attrs:{to:"/setting/info"}},[t._v("基础设置")])],1),t._v(" "),a("li",{class:{current:"/setting/auth"==t.currentRoute}},[a("router-link",{attrs:{to:"/setting/auth"}},[t._v("权限设置")])],1),t._v(" "),a("li",{class:{current:"/setting/adv"==t.currentRoute}},[a("router-link",{attrs:{to:"/setting/adv"}},[t._v("广告设置")])],1)]),t._v(" "),a("div",{staticClass:"setting-content"},[a("router-view")],1)])},staticRenderFns:[]};var I=a("VU/8")(R,F,!1,function(t){a("BFyF")},null,null).exports,S={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"info"},[this._v("\n\t基础设置\t\t\n")])},staticRenderFns:[]},z=a("VU/8")(null,S,!1,null,null,null).exports,B={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"auth"},[this._v("\n\t权限设置\n")])},staticRenderFns:[]},L=a("VU/8")(null,B,!1,null,null,null).exports,q={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"adv"},[this._v("\n\t广告设置\n")])},staticRenderFns:[]},O=a("VU/8")(null,q,!1,null,null,null).exports,E={data:()=>({fileList:[{name:"",url:""}],url:"http://120.78.164.247:8099/manager/file/upload"}),methods:{}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"test"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:this.url,"file-list":this.fileList,"list-type":"picture"}},[e("el-button",{attrs:{size:"small",type:"primary"}},[this._v("点击上传")]),this._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[this._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)},staticRenderFns:[]};a("VU/8")(E,V,!1,null,null,null).exports;s.default.use(p.a);var T=new p.a({routes:[{path:"/",component:A},{path:"/category",component:y},{path:"/article",component:D},{path:"/user",component:x},{path:"/setting",component:I,children:[{path:"info",component:z},{path:"auth",component:L},{path:"adv",component:O}]}]}),j=a("zL8q"),M=a.n(j),N=(a("tvR6"),a("OS1Z")),P=a.n(N);a("pw1w");s.default.use(M.a),s.default.use(P.a),s.default.config.productionTip=!1;let H=new s.default({el:"#app",data:{currentComponent:"Login"},created(){let t=JSON.parse(localStorage.getItem("user"));t&&t.id?this.currentComponent="App":this.currentComponent="Login"},router:T,components:{App:d,Login:f},template:'\n\t<component v-bind:is="currentComponent"></component>\n  '});window.vm=H},UnsC:function(t,e,a){t.exports=a.p+"static/img/hi.fb9bc83.gif"},iGsB:function(t,e,a){t.exports=a.p+"static/img/tx.fea1a15.jpg"},j50B:function(t,e,a){t.exports=a.p+"static/img/style-one.3c65b5d.jpg"},kDKx:function(t,e,a){t.exports=a.p+"static/img/login-bg.c0c2fe4.jpg"},l5TY:function(t,e){},lqwH:function(t,e){},mfZm:function(t,e){},pw1w:function(t,e){},tvR6:function(t,e){},vPBM:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.31a04b1508b152f447f6.js.map